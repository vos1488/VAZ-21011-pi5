(kicad_sch (version 20230121)

  (uuid "12345678-1234-1234-1234-123456789abc")

  (paper "A4")

  (title_block
    (title "VAZ 21011 + Raspberry Pi 5 Control System")
    (date "2025-10-20")
    (rev "1.0")
    (comment 1 "Raspberry Pi 5 Control System for VAZ 21011")
    (comment 2 "GPIO connections for engine management")
  )

  (lib_symbols
    (symbol "Connector_Generic:Conn_01x40_Pin"
      (pin_names (offset 1.016) hide)
      (property "Reference" "J" (id 0) (at 0 50.8 0))
      (property "Value" "Conn_01x40_Pin" (id 1) (at 0 -50.8 0))
      (symbol "Conn_01x40_Pin_1_1"
        (rectangle (start -1.27 -50.355) (end 0 50.355)
          (stroke (width 0.254)) (fill (type none))
        )
        (pin passive line (at -5.08 50.8 0) (length 3.81) (name "Pin_1" (effects (font (size 1.27 1.27) (thickness 0.15)))) (number "1" (effects (font (size 1.27 1.27) (thickness 0.15)))))
        (pin passive line (at -5.08 48.26 0) (length 3.81) (name "Pin_2" (effects (font (size 1.27 1.27) (thickness 0.15)))) (number "2" (effects (font (size 1.27 1.27) (thickness 0.15)))))
      )
    )
    
    (symbol "Device:R"
      (pin_numbers hide)
      (pin_names (offset 0))
      (property "Reference" "R" (id 0) (at 2.032 0 90))
      (property "Value" "R" (id 1) (at 0 0 90))
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254)) (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27) (name "~" (effects (font (size 1.27 1.27) (thickness 0.15)))) (number "1" (effects (font (size 1.27 1.27) (thickness 0.15)))))
        (pin passive line (at 0 -3.81 90) (length 1.27) (name "~" (effects (font (size 1.27 1.27) (thickness 0.15)))) (number "2" (effects (font (size 1.27 1.27) (thickness 0.15)))))
      )
    )

    (symbol "Device:C"
      (pin_numbers hide)
      (pin_names (offset 0.254))
      (property "Reference" "C" (id 0) (at 0.635 2.54 0))
      (property "Value" "C" (id 1) (at 0.635 -2.54 0))
      (symbol "C_0_1"
        (polyline (pts (xy -2.032 -0.762) (xy 2.032 -0.762)) (stroke (width 0.508)))
        (polyline (pts (xy -2.032 0.762) (xy 2.032 0.762)) (stroke (width 0.508)))
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 3.048) (name "~" (effects (font (size 1.27 1.27) (thickness 0.15)))) (number "1" (effects (font (size 1.27 1.27) (thickness 0.15)))))
        (pin passive line (at 0 -3.81 90) (length 3.048) (name "~" (effects (font (size 1.27 1.27) (thickness 0.15)))) (number "2" (effects (font (size 1.27 1.27) (thickness 0.15)))))
      )
    )
  )

  (text "Raspberry Pi 5 GPIO Connection Scheme" (at 20 20 0)
    (effects (font (size 2 2) (thickness 0.4)))
  )

  (text "CONNECTORS:" (at 20 40 0)
    (effects (font (size 1.5 1.5) (thickness 0.3)))
  )

  (text "I2C Bus (GPIO2=SDA, GPIO3=SCL)" (at 20 60 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "Temperature Sensor (DS18B20)" (at 20 80 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "Fuel Level Sensor" (at 20 100 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "Oil Pressure Sensor" (at 20 120 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO OUTPUTS:" (at 20 150 0)
    (effects (font (size 1.5 1.5) (thickness 0.3)))
  )

  (text "GPIO4 - Ignition Control" (at 20 170 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO17 - Starter Relay" (at 20 190 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO27 - Fuel Pump Relay" (at 20 210 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO22 - Cooling Fan Relay" (at 20 230 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO INPUTS:" (at 20 260 0)
    (effects (font (size 1.5 1.5) (thickness 0.3)))
  )

  (text "GPIO5 - RPM Sensor" (at 20 280 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO6 - Speed Sensor" (at 20 300 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO12 - Throttle Position (ADC)" (at 20 320 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GPIO13 - Brake Pressure (ADC)" (at 20 340 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "UART INTERFACE:" (at 20 370 0)
    (effects (font (size 1.5 1.5) (thickness 0.3)))
  )

  (text "GPIO14/GPIO15 - Serial Port for OBD-II Diagnostics" (at 20 390 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "POWER SUPPLY:" (at 250 40 0)
    (effects (font (size 1.5 1.5) (thickness 0.3)))
  )

  (text "+12V from vehicle battery" (at 250 60 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "+5V for Raspberry Pi (via buck converter)" (at 250 80 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "+3.3V for GPIO level shifting" (at 250 100 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )

  (text "GND - Common ground with vehicle" (at 250 120 0)
    (effects (font (size 1 1) (thickness 0.2)))
  )
)
